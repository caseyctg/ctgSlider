(function(e){e.fn.ctgslider=function(t){var n=e.extend({timelength:5e3,showbuttons:"Y",minibuttons:"Y",minibuttonopacity:.5,centerbuttons:"Y",alignrightnextbutton:"Y",btnoffset:-6,effects:"slow",repeatclass:"img",usenumbers:"Y",minibtnimagesrc:"images/star.png"},t);return this.each(function(){function a(){i=self.setInterval(c,t.timelength)}function f(){window.clearInterval(i)}function l(){var r=n.find(t.repeatclass).length;n.find(t.repeatclass+":gt(0)").hide();if(t.showbuttons=="Y"){n.find(t.repeatclass+":last-child").after('<div id="PrevBtn"></div><div id="NextBtn"></div>');n.find("#PrevBtn").bind("click",h);n.find("#NextBtn").bind("click",c);var i=n.find("#PrevBtn").height();var s=n.find("#PrevBtn").width();var o=n.height();var u=n.height();var a=n.width();var f=a-s;var l=n.find("#PrevBtn").css("top");var p=o/2-i/2;n.find("#PrevBtn").css("backgroundPosition","left center");n.find("#NextBtn").css("backgroundPosition","left center");var d=n.find("#MiniButtons");var v=a-d.width();n.find("#MiniButtons").css("left",v-t.btnoffset);if(t.centerbuttons=="Y"){n.find("#PrevBtn").css("top",p);n.find("#NextBtn").css("top",p)}else{n.find("#NextBtn").css("top",l)}if(t.alignrightnextbutton=="Y"){n.find("#NextBtn").css("left",f-t.btnoffset);n.find("#PrevBtn").css("left",t.btnoffset);e(window).resize(function(){var e=n.find("#PrevBtn").height();var r=n.find("#PrevBtn").width();var i=n.find(t.repeatclass).find("img").height();var s=n.height();var o=n.width();var u=o-r;var a=n.find("#PrevBtn").css("top");var f=s/2-e/2;n.find("#NextBtn").css("left",u-t.btnoffset);n.find("#PrevBtn").css("left",t.btnoffset);if(i>s){n.height(i)}else{n.height(i)}var l=n.find("#MiniButtons");var c=o-l.width();n.find("#MiniButtons").css("left",c-t.btnoffset);console.log(s+":"+i)})}else{n.find("#NextBtn").css("left",s+10)}}if(t.minibuttons=="Y"){if(t.showbuttons=="Y"){n.find("#NextBtn:last-child").after('<div id="MiniButtons"><div class="MiniInner"></div></div>')}else{n.find(t.repeatclass+":last-child").after('<div id="MiniButtons"><div class="MiniInner"></div></div>')}if(t.usenumbers=="Y"){var m=parseInt(r)+1;n.find(t.repeatclass).each(function(){m--;n.find(".MiniInner").after('<div class="MiniBtn">'+m+"</div>")})}else{n.find(t.repeatclass).each(function(){n.find(".MiniInner").after('<div class="MiniBtn"></div>')})}if(t.minibtnimagesrc!="Y"){n.find(".MiniBtn").css("background","none");n.find(".MiniBtn").css("background-repeat","no-repeat");n.find(".MiniBtn").css("background-image","url("+t.minibtnimagesrc+")")}n.find(".MiniBtn:eq(0)").animate({opacity:1});n.find(".MiniBtn:gt(0)").animate({opacity:t.minibuttonopacity});n.find(".MiniBtn:lt(0)").animate({opacity:t.minibuttonopacity})}}function c(){s=s+1;u=s-1;n.find(t.repeatclass+":eq("+u+")").hide();n.find(t.repeatclass+":eq("+s+")").show(t.effects);if(t.minibuttons=="Y"){n.find(".MiniBtn:eq("+s+")").animate({opacity:1});n.find(".MiniBtn:gt("+s+")").animate({opacity:t.minibuttonopacity});n.find(".MiniBtn:lt("+s+")").animate({opacity:t.minibuttonopacity})}if(parseFloat(s)==parseFloat(o)){s=0;n.find(t.repeatclass+":eq(0)").show(t.effects);if(t.minibuttons=="Y"){n.find(".MiniBtn:eq("+s+")").animate({opacity:1});n.find(".MiniBtn:gt("+s+")").animate({opacity:t.minibuttonopacity});n.find(".MiniBtn:lt("+s+")").animate({opacity:t.minibuttonopacity})}}f();a()}function h(){if(s==0){s=o-1;u=0}else{s=s-1;u=s+1}n.find(t.repeatclass+":eq("+u+")").hide();n.find(t.repeatclass+":eq("+s+")").show(t.effects);if(t.minibuttons=="Y"){n.find(".MiniBtn:eq("+s+")").animate({opacity:1});n.find(".MiniBtn:gt("+s+")").animate({opacity:t.minibuttonopacity});n.find(".MiniBtn:lt("+s+")").animate({opacity:t.minibuttonopacity})}if(s==o){s=0;n.find(t.repeatclass+":eq(0)").show(t.effects);if(t.minibuttons=="Y"){n.find(".MiniBtn:eq("+s+")").animate({opacity:1});n.find(".MiniBtn:gt("+s+")").animate({opacity:t.minibuttonopacity});n.find(".MiniBtn:lt("+s+")").animate({opacity:t.minibuttonopacity})}}f();a()}function p(){var e=jQuery(this).index()-1;n.find(t.repeatclass+":lt("+e+")").hide();n.find(t.repeatclass+":gt("+e+")").hide();n.find(t.repeatclass+":eq("+e+")").show(t.effects);n.find(".MiniBtn img").show(t.effects);n.find(".MiniBtn:eq("+e+")").animate({opacity:1});n.find(".MiniBtn:gt("+e+")").animate({opacity:t.minibuttonopacity});n.find(".MiniBtn:lt("+e+")").animate({opacity:t.minibuttonopacity});s=e;u=e-1;f();a()}if(typeof t.timelength==="undefined"||t.timelength===null)t.timelength=5e3;if(typeof t.showbuttons==="undefined"||t.showbuttons===null)t.showbuttons="Y";if(typeof t.minibuttons==="undefined"||t.minibuttons===null)t.minibuttons="Y";if(typeof t.minibuttonopacity==="undefined"||t.minibuttonopacity===null)t.minibuttonopacity=.5;if(typeof t.centerbuttons==="undefined"||t.centerbuttons===null)t.centerbuttons="Y";if(typeof t.alignrightnextbutton==="undefined"||t.alignrightnextbutton===null)t.alignrightnextbutton="Y";if(typeof t.btnoffset==="undefined"||t.btnoffset===null)t.btnoffset=0;if(typeof t.effects==="undefined"||t.effects===null)t.effects="slow";if(typeof t.repeatclass==="undefined"||t.repeatclass===null)t.repeatclass="img";if(typeof t.usenumbers==="undefined"||t.usenumbers===null)t.usenumbers="Y";if(typeof t.minibtnimagesrc==="undefined"||t.minibtnimagesrc===null)t.minibtnimagesrc="Y";var n=jQuery(this);var r=n.find(t.repeatclass).length;l();a();var i;var s=0;var o=n.find(t.repeatclass).length;var u;e(n).mouseenter(function(){f()}).mouseleave(function(){a()});if(t.minibuttons=="Y"){n.find(".MiniBtn").click(p)}})}})(jQuery)